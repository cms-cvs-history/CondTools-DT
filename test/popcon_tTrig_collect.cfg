process TEST = {
include "CondCore/PopCon/data/PopConDB.cfi"
replace PopConDB.connect = "sqlite_file:test.db"
replace PopConDB.DBParameters.authenticationPath = "/afs/cern.ch/cms/DB/conddb"

  es_source = PoolDBESSource {
    VPSet toGet = { { string record = "DTTtrigRcd"
                      string tag = "testForOnline" } }
    bool loadAll = true
    string connect = "sqlite_file:testsource.db"
    string timetype = "runnumber"
    PSet DBParameters = {
      untracked string authenticationPath="/afs/cern.ch/cms/DB/conddb"
      untracked int32 messageLevel=0
    }
  }
  service = PopConDBOutputService {
    using PopConDB
    VPSet toPut = { { string record = "DTTtrigRcd"
                      string tag = "tTrig_test" } }
  }

  source = EmptyIOVSource {
    string timetype = "runnumber"
    untracked uint32 firstRun = 30127
#    untracked uint32 firstRun = 29000
#    untracked uint32 firstRun = 29500
    untracked uint32 lastRun = 30127
#    untracked uint32 lastRun = 29500
    uint32 interval = 1
  }

  module tTrigInjector = DTTtrigInjector {
  }
  module tTrigCollector = DTTtrigTransfer {
    using PopConDB
    string onlTag = "tTrig_test"
    bool SinceAppendMode = true
    uint32 validity = 1200
    bool debug = false
  }

  path p = { tTrigInjector, tTrigCollector }

}
